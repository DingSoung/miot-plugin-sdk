<a name="module_miot/service/miotcamera"></a>

## miot/service/miotcamera
摄像机 API

**Export**: public  
**Doc_name**: 智能摄像机模块  
**Doc_index**: 7  
**Doc_directory**: service  

* [miot/service/miotcamera](#module_miot/service/miotcamera)
    * [~IMiotCamera](#module_miot/service/miotcamera..IMiotCamera)
        * [.connectToDeviceWithStateChangeCallBack(callbackName)](#module_miot/service/miotcamera..IMiotCamera+connectToDeviceWithStateChangeCallBack)
        * [.disconnectToDevice()](#module_miot/service/miotcamera..IMiotCamera+disconnectToDevice)
        * [.sendP2PCommandToDevice(command, paramsJson)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
        * [.sendP2PCommandToDeviceWithStringParam(command, paramStr)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithStringParam) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
        * [.sendP2PCommandToDeviceWithBase64Param(command, base64Param)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithBase64Param) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
        * [.bindP2PCommandReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindP2PCommandReceiveCallback)
        * [.sendRDTJSONCommandToDevice(params)](#module_miot/service/miotcamera..IMiotCamera+sendRDTJSONCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
        * [.sendRDTCommandToDevice(params)](#module_miot/service/miotcamera..IMiotCamera+sendRDTCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
        * [.bindRDTDataReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindRDTDataReceiveCallback)
        * [.showAlarmVideos(isNewPlugin, localRecognizeEvents)](#module_miot/service/miotcamera..IMiotCamera+showAlarmVideos)
        * [.showPlaybackVideos(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showPlaybackVideos)
        * [.showAlbum(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showAlbum)
        * [.showLastAlbumMediaFile(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showLastAlbumMediaFile)
        * [.getAlbumName()](#module_miot/service/miotcamera..IMiotCamera+getAlbumName)
        * [.showCloudStorage(supportHevc, 是否使用, 默認參數, @since)](#module_miot/service/miotcamera..IMiotCamera+showCloudStorage)
        * [.showCloudStorageSetting(默认参数, @since)](#module_miot/service/miotcamera..IMiotCamera+showCloudStorageSetting)
        * [.openAlarmVideoPlayer(data)](#module_miot/service/miotcamera..IMiotCamera+openAlarmVideoPlayer)
        * [.loadMonitoringDetail(model, did)](#module_miot/service/miotcamera..IMiotCamera+loadMonitoringDetail) ⇒
        * [.showFaceRecognize(isVip)](#module_miot/service/miotcamera..IMiotCamera+showFaceRecognize)
        * [.bindBPSReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindBPSReceiveCallback)
        * [.ffmpegCommand(command, callback, complete)](#module_miot/service/miotcamera..IMiotCamera+ffmpegCommand)
        * [.downloadM3U8ToMP4(fileId, filePath, callbackName, isAlarm, videoCodec)](#module_miot/service/miotcamera..IMiotCamera+downloadM3U8ToMP4) ⇒
        * [.getVideoFileUrl(fileId, isAlarm, videoCodec)](#module_miot/service/miotcamera..IMiotCamera+getVideoFileUrl)
        * [.getFileIdImage(imgStoreId)](#module_miot/service/miotcamera..IMiotCamera+getFileIdImage) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
        * [.getFaceImgWithDid(faceId)](#module_miot/service/miotcamera..IMiotCamera+getFaceImgWithDid) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
        * [.getCommonImgWithParams(imgId, hostParams, pathParams)](#module_miot/service/miotcamera..IMiotCamera+getCommonImgWithParams) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
        * [.setTimelinePlaybackMode(isTimelinePlayback)](#module_miot/service/miotcamera..IMiotCamera+setTimelinePlaybackMode) ⇒ <code>null</code>
        * [.bindTimelinePlaybackEndListener(timelinePlaybackEndListenerName)](#module_miot/service/miotcamera..IMiotCamera+bindTimelinePlaybackEndListener) ⇒ <code>null</code>
        * [.getCurrentSpeakerVolumn()](#module_miot/service/miotcamera..IMiotCamera+getCurrentSpeakerVolumn)
        * [.setCurrentDeviceIsMissFirmware(boolean)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceIsMissFirmware)
        * [.showNASSetting()](#module_miot/service/miotcamera..IMiotCamera+showNASSetting)
        * [.openFloatWindow()](#module_miot/service/miotcamera..IMiotCamera+openFloatWindow)
        * [.closeFloatWindow()](#module_miot/service/miotcamera..IMiotCamera+closeFloatWindow)
        * [.tryBindAlarmNotifyWithWechatMijia()](#module_miot/service/miotcamera..IMiotCamera+tryBindAlarmNotifyWithWechatMijia)
        * [.queryDevicePassword(did)](#module_miot/service/miotcamera..IMiotCamera+queryDevicePassword)
        * [.setCurrentDeviceUseFixedUid(isUseFixedUid, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedUid)
        * [.decryptBigFile(fileData, nonce, shareKey)](#module_miot/service/miotcamera..IMiotCamera+decryptBigFile)
        * [.decryptSmallFile(fileData, nonce, shareKey)](#module_miot/service/miotcamera..IMiotCamera+decryptSmallFile)
        * [.markCurrentDeviceUseHualaiEncrypted(isEncrypted, did)](#module_miot/service/miotcamera..IMiotCamera+markCurrentDeviceUseHualaiEncrypted)
        * [.setCurrentDeviceUseFixedRdtChannel(useFixedRdtChannel, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedRdtChannel)
        * [.setUseIjkDecoderGlobal(isEnableIjk, did)](#module_miot/service/miotcamera..IMiotCamera+setUseIjkDecoderGlobal)
        * [.setCurrrentVoiceChangerType(simpleRate, type, channel, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrrentVoiceChangerType)
        * [.showScreenLinkagePage(isMultiChoice, screenCount, did)](#module_miot/service/miotcamera..IMiotCamera+showScreenLinkagePage)
        * [.openCloudSettingDownloadListPage(did)](#module_miot/service/miotcamera..IMiotCamera+openCloudSettingDownloadListPage)
        * [.downloadCloudVideoIntoCloudSetting(did, fileId, isAlarmFile, startTime, duration, register, thumbId)](#module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoIntoCloudSetting)
        * [.downloadCloudVideoMp4(did, fileId, stoId)](#module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoMp4)
        * [.convertG711VideoIntoAACVideo(filePath, audioParam)](#module_miot/service/miotcamera..IMiotCamera+convertG711VideoIntoAACVideo)
        * [.reactNativeVideoScreenShot(viewRef, imagePath)](#module_miot/service/miotcamera..IMiotCamera+reactNativeVideoScreenShot) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;string&gt;</code>
        * [.convertH26xVideoIntoMp4(paramsJson, videoPath, videoType, aacAudioPath, targetPath, fps, videoWidth, videoHeight)](#module_miot/service/miotcamera..IMiotCamera+convertH26xVideoIntoMp4)
        * [.launchRecommend(srid, did, model)](#module_miot/service/miotcamera..IMiotCamera+launchRecommend)
        * [.showOperationBannerPage(data, did)](#module_miot/service/miotcamera..IMiotCamera+showOperationBannerPage)
    * [~MISSCommand](#module_miot/service/miotcamera..MISSCommand) : <code>object</code>
        * [.MISS_CMD_VIDEO_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_VIDEO_STOP)
        * [.MISS_CMD_AUDIO_START](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_START)
        * [.MISS_CMD_AUDIO_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_STOP)
        * [.MISS_CMD_SPEAKER_START_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_REQ)
        * [.MISS_CMD_SPEAKER_START_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_RESP)
        * [.MISS_CMD_SPEAKER_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_STOP)
        * [.MISS_CMD_STREAM_CTRL_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_REQ)
        * [.MISS_CMD_STREAM_CTRL_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_RESP)
        * [.MISS_CMD_GET_AUDIO_FORMAT_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_REQ)
        * [.MISS_CMD_GET_AUDIO_FORMAT_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_RESP)
        * [.MISS_CMD_PLAYBACK_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_REQ)
        * [.MISS_CMD_PLAYBACK_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_RESP)
        * [.MISS_CMD_PLAYBACK_SET_SPEED](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_SET_SPEED)
        * [.MISS_CMD_DEVINFO_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_REQ)
        * [.MISS_CMD_DEVINFO_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_RESP)
        * [.MISS_CMD_MOTOR_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_REQ)
        * [.MISS_CMD_MOTOR_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_RESP)
    * [~MISSError](#module_miot/service/miotcamera..MISSError) : <code>object</code>
    * [~MISSConnectState](#module_miot/service/miotcamera..MISSConnectState) : <code>object</code>
    * [~AlarmEventType](#module_miot/service/miotcamera..AlarmEventType) : <code>object</code>


* * *

<a name="module_miot/service/miotcamera..IMiotCamera"></a>

### miot/service/miotcamera~IMiotCamera
**Kind**: inner class of [<code>miot/service/miotcamera</code>](#module_miot/service/miotcamera)  
**Export**:   

* [~IMiotCamera](#module_miot/service/miotcamera..IMiotCamera)
    * [.connectToDeviceWithStateChangeCallBack(callbackName)](#module_miot/service/miotcamera..IMiotCamera+connectToDeviceWithStateChangeCallBack)
    * [.disconnectToDevice()](#module_miot/service/miotcamera..IMiotCamera+disconnectToDevice)
    * [.sendP2PCommandToDevice(command, paramsJson)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
    * [.sendP2PCommandToDeviceWithStringParam(command, paramStr)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithStringParam) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
    * [.sendP2PCommandToDeviceWithBase64Param(command, base64Param)](#module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithBase64Param) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
    * [.bindP2PCommandReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindP2PCommandReceiveCallback)
    * [.sendRDTJSONCommandToDevice(params)](#module_miot/service/miotcamera..IMiotCamera+sendRDTJSONCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
    * [.sendRDTCommandToDevice(params)](#module_miot/service/miotcamera..IMiotCamera+sendRDTCommandToDevice) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
    * [.bindRDTDataReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindRDTDataReceiveCallback)
    * [.showAlarmVideos(isNewPlugin, localRecognizeEvents)](#module_miot/service/miotcamera..IMiotCamera+showAlarmVideos)
    * [.showPlaybackVideos(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showPlaybackVideos)
    * [.showAlbum(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showAlbum)
    * [.showLastAlbumMediaFile(jsonobj)](#module_miot/service/miotcamera..IMiotCamera+showLastAlbumMediaFile)
    * [.getAlbumName()](#module_miot/service/miotcamera..IMiotCamera+getAlbumName)
    * [.showCloudStorage(supportHevc, 是否使用, 默認參數, @since)](#module_miot/service/miotcamera..IMiotCamera+showCloudStorage)
    * [.showCloudStorageSetting(默认参数, @since)](#module_miot/service/miotcamera..IMiotCamera+showCloudStorageSetting)
    * [.openAlarmVideoPlayer(data)](#module_miot/service/miotcamera..IMiotCamera+openAlarmVideoPlayer)
    * [.loadMonitoringDetail(model, did)](#module_miot/service/miotcamera..IMiotCamera+loadMonitoringDetail) ⇒
    * [.showFaceRecognize(isVip)](#module_miot/service/miotcamera..IMiotCamera+showFaceRecognize)
    * [.bindBPSReceiveCallback(callbackName)](#module_miot/service/miotcamera..IMiotCamera+bindBPSReceiveCallback)
    * [.ffmpegCommand(command, callback, complete)](#module_miot/service/miotcamera..IMiotCamera+ffmpegCommand)
    * [.downloadM3U8ToMP4(fileId, filePath, callbackName, isAlarm, videoCodec)](#module_miot/service/miotcamera..IMiotCamera+downloadM3U8ToMP4) ⇒
    * [.getVideoFileUrl(fileId, isAlarm, videoCodec)](#module_miot/service/miotcamera..IMiotCamera+getVideoFileUrl)
    * [.getFileIdImage(imgStoreId)](#module_miot/service/miotcamera..IMiotCamera+getFileIdImage) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
    * [.getFaceImgWithDid(faceId)](#module_miot/service/miotcamera..IMiotCamera+getFaceImgWithDid) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
    * [.getCommonImgWithParams(imgId, hostParams, pathParams)](#module_miot/service/miotcamera..IMiotCamera+getCommonImgWithParams) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
    * [.setTimelinePlaybackMode(isTimelinePlayback)](#module_miot/service/miotcamera..IMiotCamera+setTimelinePlaybackMode) ⇒ <code>null</code>
    * [.bindTimelinePlaybackEndListener(timelinePlaybackEndListenerName)](#module_miot/service/miotcamera..IMiotCamera+bindTimelinePlaybackEndListener) ⇒ <code>null</code>
    * [.getCurrentSpeakerVolumn()](#module_miot/service/miotcamera..IMiotCamera+getCurrentSpeakerVolumn)
    * [.setCurrentDeviceIsMissFirmware(boolean)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceIsMissFirmware)
    * [.showNASSetting()](#module_miot/service/miotcamera..IMiotCamera+showNASSetting)
    * [.openFloatWindow()](#module_miot/service/miotcamera..IMiotCamera+openFloatWindow)
    * [.closeFloatWindow()](#module_miot/service/miotcamera..IMiotCamera+closeFloatWindow)
    * [.tryBindAlarmNotifyWithWechatMijia()](#module_miot/service/miotcamera..IMiotCamera+tryBindAlarmNotifyWithWechatMijia)
    * [.queryDevicePassword(did)](#module_miot/service/miotcamera..IMiotCamera+queryDevicePassword)
    * [.setCurrentDeviceUseFixedUid(isUseFixedUid, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedUid)
    * [.decryptBigFile(fileData, nonce, shareKey)](#module_miot/service/miotcamera..IMiotCamera+decryptBigFile)
    * [.decryptSmallFile(fileData, nonce, shareKey)](#module_miot/service/miotcamera..IMiotCamera+decryptSmallFile)
    * [.markCurrentDeviceUseHualaiEncrypted(isEncrypted, did)](#module_miot/service/miotcamera..IMiotCamera+markCurrentDeviceUseHualaiEncrypted)
    * [.setCurrentDeviceUseFixedRdtChannel(useFixedRdtChannel, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedRdtChannel)
    * [.setUseIjkDecoderGlobal(isEnableIjk, did)](#module_miot/service/miotcamera..IMiotCamera+setUseIjkDecoderGlobal)
    * [.setCurrrentVoiceChangerType(simpleRate, type, channel, did)](#module_miot/service/miotcamera..IMiotCamera+setCurrrentVoiceChangerType)
    * [.showScreenLinkagePage(isMultiChoice, screenCount, did)](#module_miot/service/miotcamera..IMiotCamera+showScreenLinkagePage)
    * [.openCloudSettingDownloadListPage(did)](#module_miot/service/miotcamera..IMiotCamera+openCloudSettingDownloadListPage)
    * [.downloadCloudVideoIntoCloudSetting(did, fileId, isAlarmFile, startTime, duration, register, thumbId)](#module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoIntoCloudSetting)
    * [.downloadCloudVideoMp4(did, fileId, stoId)](#module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoMp4)
    * [.convertG711VideoIntoAACVideo(filePath, audioParam)](#module_miot/service/miotcamera..IMiotCamera+convertG711VideoIntoAACVideo)
    * [.reactNativeVideoScreenShot(viewRef, imagePath)](#module_miot/service/miotcamera..IMiotCamera+reactNativeVideoScreenShot) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;string&gt;</code>
    * [.convertH26xVideoIntoMp4(paramsJson, videoPath, videoType, aacAudioPath, targetPath, fps, videoWidth, videoHeight)](#module_miot/service/miotcamera..IMiotCamera+convertH26xVideoIntoMp4)
    * [.launchRecommend(srid, did, model)](#module_miot/service/miotcamera..IMiotCamera+launchRecommend)
    * [.showOperationBannerPage(data, did)](#module_miot/service/miotcamera..IMiotCamera+showOperationBannerPage)


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+connectToDeviceWithStateChangeCallBack"></a>

#### iMiotCamera.connectToDeviceWithStateChangeCallBack(callbackName)
连接设备

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  

| Param | Type | Description |
| --- | --- | --- |
| callbackName | <code>string</code> | 链接状态变更回调 { state: MISSConnectState, error: MISSError } |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+disconnectToDevice"></a>

#### iMiotCamera.disconnectToDevice()
断开连接设备

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10033  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDevice"></a>

#### iMiotCamera.sendP2PCommandToDevice(command, paramsJson) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
发送miss命令到设备

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code> - a promise with return code  

| Param | Type | Description |
| --- | --- | --- |
| command | <code>MISSCommand</code> | miss 命令 |
| paramsJson | <code>object</code> | 参数 要求是符合jsonObj形式的数据 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithStringParam"></a>

#### iMiotCamera.sendP2PCommandToDeviceWithStringParam(command, paramStr) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
发送miss命令到设备 主要处理部分model发送命令的参数不是json格式，也不是 byte数组编码得到的str，而是普通的字串

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code> - a promise with return code  

| Param | Type | Description |
| --- | --- | --- |
| command | <code>MISSCommand</code> | miss 命令  如果是tutk，米家标准的命令号要转为用Miss的命令号，如果是自定义命令 直接发送 |
| paramStr | <code>string</code> | 参数: string参数，非json 非 base64 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+sendP2PCommandToDeviceWithBase64Param"></a>

#### iMiotCamera.sendP2PCommandToDeviceWithBase64Param(command, base64Param) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
发送miss命令到设备 主要处理部分model发送命令的参数不是json格式，而是byte数组形式的命令。 byte数组请用base64编码得到string再调用这个接口。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code> - a promise with return code  
**Warn**: miss固件 android端不支持直接发送byte[]，此时调用该接口会直接返回错误。  

| Param | Type | Description |
| --- | --- | --- |
| command | <code>MISSCommand</code> | miss 命令  如果是tutk，米家标准的命令号要转为用Miss的命令号，如果是自定义命令 直接发送 |
| base64Param | <code>string</code> | 参数:  byte[]数组base64 encode后的字串 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+bindP2PCommandReceiveCallback"></a>

#### iMiotCamera.bindP2PCommandReceiveCallback(callbackName)
注册接收命令回调

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  

| Param | Type | Description |
| --- | --- | --- |
| callbackName | <code>string</code> | 收到p2p command回调 { command: MISSCommand, data: Object/Base64String } |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+sendRDTJSONCommandToDevice"></a>

#### iMiotCamera.sendRDTJSONCommandToDevice(params) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
发送RDT命令到设备

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code> - a promise with return code  

| Param | Type | Description |
| --- | --- | --- |
| params | <code>object</code> | json data |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+sendRDTCommandToDevice"></a>

#### iMiotCamera.sendRDTCommandToDevice(params) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code>
发送RDT命令到设备

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;number&gt;</code> - a promise with return code  

| Param | Type | Description |
| --- | --- | --- |
| params | <code>string</code> | base64 encoded data |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+bindRDTDataReceiveCallback"></a>

#### iMiotCamera.bindRDTDataReceiveCallback(callbackName)
注册接收RDT命令回调

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  

| Param | Type | Description |
| --- | --- | --- |
| callbackName | <code>string</code> | 收到RDT回调 { data: Object/Base64String } |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showAlarmVideos"></a>

#### iMiotCamera.showAlarmVideos(isNewPlugin, localRecognizeEvents)
打开报警视频页面
这个接口按照现有的标准报警视频交互，报警视频列表页筛选项默认有：全部、物体移动、人性移动、AI；如果是vip用户，就再加上人脸、宝宝哭声这两个筛选项；
这里添加这个localRecognizeEvents的目的是：主要处理，部分model不是vip，也会有宝宝哭声的筛选项，这个参数的作用：用户如果不是vip，但是又有默认选项之外的筛选项时，通过这个参数来添加人脸或者宝宝哭声的选项。

现在除创米021那几款摄像头，都只传0就行了

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Updated**: 10047  
**Since**: 10033  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| isNewPlugin | <code>bool</code> | <code>false</code> | 是否是新固件 |
| localRecognizeEvents | <code>number</code> |  | AlarmEventType 里 几个筛选项的或值。     isNewPlugin = false的情况下，兼容以前的逻辑，非vip会读localRecognizeEvents变量里是否有宝宝哭声和人脸识别选项,有就展示   vip则包含所有的筛选项    isNewPlugin = true时，localRecognizeEvents的含义：js端由该变量控制显示哪些筛选项，例如v3设备: 非vip  localRecognizeEvents= EventType_All| EventType_PeopleMotion| EventType_ObjectMotion  vip： localRecognizeEvents = EventType_All| EventType_PeopleMotion| EventType_ObjectMotion| EventType_Face| EventType_BabyCry      AI选项不受该值控制，用户设置了该did的智能选项后，筛选项目里就会有，否则无。 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showPlaybackVideos"></a>

#### iMiotCamera.showPlaybackVideos(jsonobj)
打开回看页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10048  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| jsonobj | <code>data</code> | <code>&gt;str，包含打开回看需要的sdcardStatus,</code> | isVip等信息 |

**Example**  
```js
data = {sdcardGetSuccess: true, sdcardStatus: 0, isVip: false}
        Service.miotcamera.showPlaybackVideos(JSON.stringify(data));
```

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showAlbum"></a>

#### iMiotCamera.showAlbum(jsonobj)
打开相册

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10051  

| Param | Type | Default |
| --- | --- | --- |
| jsonobj | <code>data</code> | <code>&gt;str，预留</code> | 

**Example**  
```js
data = {};
        Service.miotcamera.showPlaybackVideos(JSON.stringify(data));
```

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showLastAlbumMediaFile"></a>

#### iMiotCamera.showLastAlbumMediaFile(jsonobj)
打开设备相册中最新的图片或视频

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10051  

| Param | Type | Default |
| --- | --- | --- |
| jsonobj | <code>data</code> | <code>&gt;str，包含albumName等信息</code> | 

**Example**  
```js
data = { albumName: albumName};
        Service.miotcamera.showLastAlbumMediaFile(JSON.stringify(data));
```

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getAlbumName"></a>

#### iMiotCamera.getAlbumName()
获取设备对应的相册名字

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10051  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showCloudStorage"></a>

#### iMiotCamera.showCloudStorage(supportHevc, 是否使用, 默認參數, @since)
打开云储存页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10033  

| Param | Type | Description |
| --- | --- | --- |
| supportHevc | <code>BOOL</code> | 是否支持 H265 |
| 是否使用 | <code>useV2API</code> | V2 接口 |
| 默認參數 | <code>did</code> | did |
| @since | <code>cloudStoragePurchaseUrl</code> | 10051 默認爲空，兼容以前的邏輯，不是vip就打開攝像頭的雲存購買連接；如果是低功耗設備，需要自己填入雲存購買連接。 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showCloudStorageSetting"></a>

#### iMiotCamera.showCloudStorageSetting(默认参数, @since)
打开云储存设置页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10033  

| Param | Type | Description |
| --- | --- | --- |
| 默认参数 | <code>did</code> | did |
| @since | <code>aSettingUrl</code> | 10053  自定义设置地址。默认为空，兼容以前的逻辑。 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+openAlarmVideoPlayer"></a>

#### iMiotCamera.openAlarmVideoPlayer(data)
打开报警视频播放页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10037  

| Param | Description |
| --- | --- |
| data | jsonobj=>str 从push点击跳转进来后，如果是smartscene 就把extra字段捞出来放到这里 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+loadMonitoringDetail"></a>

#### iMiotCamera.loadMonitoringDetail(model, did) ⇒
**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: true, 最新报警视频的时间和事件描述字符串；false，错误描述  
**Since**: 10047  

| Param |
| --- |
| model | 
| did | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showFaceRecognize"></a>

#### iMiotCamera.showFaceRecognize(isVip)
打开人脸识别页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10033  

| Param | Type |
| --- | --- |
| isVip | <code>BOOL</code> | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+bindBPSReceiveCallback"></a>

#### iMiotCamera.bindBPSReceiveCallback(callbackName)
注册收到数据速率 Bytes per second，每秒回调一次

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10036  

| Param | Type | Description |
| --- | --- | --- |
| callbackName | <code>string</code> | 回调名称 { rate: number } |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+ffmpegCommand"></a>

#### iMiotCamera.ffmpegCommand(command, callback, complete)
执行FFmpeg命令

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  

| Param | Type | Description |
| --- | --- | --- |
| command | <code>object</code> | string |
| callback | <code>String</code> | string |
| complete | <code>Block</code> | (eror) => |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+downloadM3U8ToMP4"></a>

#### iMiotCamera.downloadM3U8ToMP4(fileId, filePath, callbackName, isAlarm, videoCodec) ⇒
下载m3u8视频并合成mp4

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: state : 1. onStart (开始下载)  2. onComplete（下载完成）  3. onError（失败）  4. onProgress（下载进度）
   errorInfo : 失败描述（state = onError时才有）
   progress : 下载进度0 - 100 (state = onProgress时才有)  
**Since**: 10038  

| Param | Default | Description |
| --- | --- | --- |
| fileId |  |  |
| filePath |  |  |
| callbackName |  |  |
| isAlarm | <code>false</code> | 是否报警视频 |
| videoCodec | <code>H265</code> | 视频编码如 "H264", "H265" |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getVideoFileUrl"></a>

#### iMiotCamera.getVideoFileUrl(fileId, isAlarm, videoCodec)
获取报警视频m3u8播放地址

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10037  

| Param | Description |
| --- | --- |
| fileId | 视频fileId |
| isAlarm | 是否报警视频 |
| videoCodec | 视频编码如 "H264", "H265" |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getFileIdImage"></a>

#### iMiotCamera.getFileIdImage(imgStoreId) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
获取视频缩略图片接口（如报警视频列表缩略图）

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code> - 文件路径  
**Since**: 10037  

| Param | Type | Description |
| --- | --- | --- |
| imgStoreId | <code>string</code> | 图片id |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getFaceImgWithDid"></a>

#### iMiotCamera.getFaceImgWithDid(faceId) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
获取人脸图片接口

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code> - 文件路径  
**Since**: 10040  

| Param | Type | Description |
| --- | --- | --- |
| faceId | <code>string</code> | 人脸id |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getCommonImgWithParams"></a>

#### iMiotCamera.getCommonImgWithParams(imgId, hostParams, pathParams) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code>
获取通用图片接口（如云存储视频缩略图）

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;String&gt;</code> - 文件路径  
**Since**: 10041  

| Param | Type | Description |
| --- | --- | --- |
| imgId | <code>string</code> | 图片唯一标识ID 如imgStoreId |
| hostParams | <code>string</code> | json字符串，接口信息: 如获取云存储缩略图{"prefix":"business.smartcamera.", "method":"GET", "path":"/miot/camera/app/v1/img"}   注：key固定的 |
| pathParams | <code>string</code> | json字符串，请求参数: 如获取云存储缩略图{"did":"xxxx", "fileId":"xxxx", "stoId":"xxxxxxxx"} |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setTimelinePlaybackMode"></a>

#### iMiotCamera.setTimelinePlaybackMode(isTimelinePlayback) ⇒ <code>null</code>
通知native端现在是不是回看时间轴模式

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10038  

| Param | Type | Description |
| --- | --- | --- |
| isTimelinePlayback | <code>boolean</code> | 是不是回看时间轴模式 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+bindTimelinePlaybackEndListener"></a>

#### iMiotCamera.bindTimelinePlaybackEndListener(timelinePlaybackEndListenerName) ⇒ <code>null</code>
绑定回调，native端 在时间轴回看的模式下，如果从点播切换成直播了，就通过这个回调告诉js端

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10038  

| Param | Type | Description |
| --- | --- | --- |
| timelinePlaybackEndListenerName | <code>string</code> | native端在回看时间轴模式下，从点播切换成直播了，通过DeviceEmitter发送这个时间给js端 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+getCurrentSpeakerVolumn"></a>

#### iMiotCamera.getCurrentSpeakerVolumn()
获取当前语音对讲过程中的音量大小

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10038
return {promise}  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceIsMissFirmware"></a>

#### iMiotCamera.setCurrentDeviceIsMissFirmware(boolean)
设置当前model是不是miss固件

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10038  

| Param | Description |
| --- | --- |
| boolean | isMissFirmware  是否是miss固件，true 是； false tutk固件。 |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showNASSetting"></a>

#### iMiotCamera.showNASSetting()
打开摄像机NAS存储设置页面。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10038  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+openFloatWindow"></a>

#### iMiotCamera.openFloatWindow()
开启悬浮窗模式

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10039  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+closeFloatWindow"></a>

#### iMiotCamera.closeFloatWindow()
关闭悬浮窗

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10040  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+tryBindAlarmNotifyWithWechatMijia"></a>

#### iMiotCamera.tryBindAlarmNotifyWithWechatMijia()
绑定摄像头的报警视频到微信米家公众号里，有报警视频推送到微信公共号

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10040  

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+queryDevicePassword"></a>

#### iMiotCamera.queryDevicePassword(did)
查询设备的pipUid和password，提供给部分model进行固件交互
仅仅允许华来部分model使用，其他model访问会得到一个错误。
resolve返回的值即为服务器返回的json字串。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10041  

| Param | Description |
| --- | --- |
| did | 设备did |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedUid"></a>

#### iMiotCamera.setCurrentDeviceUseFixedUid(isUseFixedUid, did)
设置当前设备为直连模式，使用固定的uid 和 password连接设备，目前只有华来的小方设备使用到了该功能。
切换直连为非直连模式，需要断开原有连接，设置该接口为false，重新连接设备。
先设置是否是miss固件，在调用连接前设置该接口。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10047  

| Param | Description |
| --- | --- |
| isUseFixedUid | 是否使用直连模式， 默认false |
| did | 设备did |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+decryptBigFile"></a>

#### iMiotCamera.decryptBigFile(fileData, nonce, shareKey)
使用chacha20_xor解密大文件

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10041  

| Param | Type | Description |
| --- | --- | --- |
| fileData | <code>string</code> | byte array encoded into string 待解密的文件体 |
| nonce | <code>\*</code> | byte array encoded into string chacha20_xor解密需要的nonce |
| shareKey | <code>\*</code> | byte array encoded into string chacha20_xor解密需要的sharekey |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+decryptSmallFile"></a>

#### iMiotCamera.decryptSmallFile(fileData, nonce, shareKey)
使用chacha20_xor解密小文件

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10041  

| Param | Type | Description |
| --- | --- | --- |
| fileData | <code>string</code> | byte array base64 encoded into string 待解密的文件体 |
| nonce | <code>string</code> | byte array base64 encoded into string chacha20_xor解密需要的nonce |
| shareKey | <code>string</code> | byte array base64 encoded into string chacha20_xor解密需要的sharekey |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+markCurrentDeviceUseHualaiEncrypted"></a>

#### iMiotCamera.markCurrentDeviceUseHualaiEncrypted(isEncrypted, did)
标记当前是否使用华来的音视频解密方案，只对tutk生效，需要在连接成功之后，收到视频流之前调用

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10042  

| Param | Type |
| --- | --- |
| isEncrypted | <code>bool</code> | 
| did | <code>string</code> | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setCurrentDeviceUseFixedRdtChannel"></a>

#### iMiotCamera.setCurrentDeviceUseFixedRdtChannel(useFixedRdtChannel, did)
在连接成功后，发送rdt命令前调用，标记当前设备是否使用固定rdtChannel方案。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10042  

| Param | Type |
| --- | --- |
| useFixedRdtChannel | <code>bool</code> | 
| did | <code>string</code> | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setUseIjkDecoderGlobal"></a>

#### iMiotCamera.setUseIjkDecoderGlobal(isEnableIjk, did)
设置开启/关闭ijk解码。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10043  

| Param | Type | Description |
| --- | --- | --- |
| isEnableIjk | <code>bool</code> | 是否开启ijk 一启用，所有的设备都会被启用。 |
| did | <code>string</code> |  |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+setCurrrentVoiceChangerType"></a>

#### iMiotCamera.setCurrrentVoiceChangerType(simpleRate, type, channel, did)
设置speaker变声类型,    初次设置会触发初始化，后续simpleRate or channel发生改变 都不会触发初始化。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| simpleRate | <code>int</code> |  | 音频采样率  与CameraRenderView里定义的MISSSampleRate一致 |
| type | <code>int</code> |  | 变声类型，目前米家只提供 0 == 正常  1 == 小丑  2 == 大叔这三种类型 |
| channel | <code>int</code> | <code>1</code> | 单双通道 1 单声道， 2 立体声   默认为1 |
| did | <code>string</code> |  |  |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showScreenLinkagePage"></a>

#### iMiotCamera.showScreenLinkagePage(isMultiChoice, screenCount, did)
打开门铃的带屏设备联动页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10044  

| Param | Type |
| --- | --- |
| isMultiChoice | <code>bool</code> | 
| screenCount | <code>number</code> | 
| did | <code>string</code> | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+openCloudSettingDownloadListPage"></a>

#### iMiotCamera.openCloudSettingDownloadListPage(did)
打开云存下载列表页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10046  

| Param | Type |
| --- | --- |
| did | <code>string</code> | 


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoIntoCloudSetting"></a>

#### iMiotCamera.downloadCloudVideoIntoCloudSetting(did, fileId, isAlarmFile, startTime, duration, register, thumbId)
下载云存视频到 云存管理-》下载列表里
promise仅仅代表提交任务时是否成功；
监听任务状态 需要通过EventEmitter监听 cloudVideoDownloadProgressCallbackName

EventEmitter里返回的数据解释:
status: 0 下载错误  1 开始下载  2 停止下载  3 下载结束 4 下载取消  (Android端目前仅有onFinish回调 status:3)
errorCode:错误码  0代表无错误。
fileId:当前哪个fileId 对应的视频下载状态

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10047  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| did | <code>\*</code> |  |  |
| fileId | <code>\*</code> |  | 视频的fileId |
| isAlarmFile | <code>\*</code> |  | 是否是报警视频(短视频 true)/云存视频(长视频 false) |
| startTime | <code>\*</code> |  | 视频的开始时间 |
| duration | <code>\*</code> |  | 视频的duration，通过播放器返回的时长或者其他方式获取到 |
| register | <code>\*</code> | <code>true</code> | true时 native 层会监听下载状态并发送cloudVideoDownloadProgressCallbackName, false时取消监听并停止发送 |
| thumbId | <code>\*</code> | <code></code> | 视频缩略图id |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+downloadCloudVideoMp4"></a>

#### iMiotCamera.downloadCloudVideoMp4(did, fileId, stoId)
下载mp4类型的云存视频

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10047  

| Param | Type | Description |
| --- | --- | --- |
| did | <code>string</code> | 设备did |
| fileId | <code>string</code> | 从服务端拿到的fileId |
| stoId | <code>string</code> | 从服务器端拿到的stoId |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+convertG711VideoIntoAACVideo"></a>

#### iMiotCamera.convertG711VideoIntoAACVideo(filePath, audioParam)
将携带g711音频的mp4视频 转换成 aac音频的mp4视频，返回resolve的情况下，filepath对应的文件被替换成aac mp4文件了。

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10047  

| Param | Type | Description |
| --- | --- | --- |
| filePath | <code>string</code> | 必须是以Host.file.storageBasePath 作为前缀开始传入。 |
| audioParam | <code>object</code> | {sampleRate:MISSSampleRate.FLAG_AUDIO_SAMPLE_8K, channel:MISSAudioChannel.FLAG_AUDIO_CHANNEL_MONO, bitRate:MISSAudioBitRate.FLAG_AUDIO_BIT_RATE_16K} |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+reactNativeVideoScreenShot"></a>

#### iMiotCamera.reactNativeVideoScreenShot(viewRef, imagePath) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;string&gt;</code>
react-native-video 截屏，用来截video标签里video控件的内容

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;string&gt;</code> - 成功时：{"code":xxxx}
失败时：{"code":xxx, "message":"xxx" }  
**Since**: 10049  

| Param | Type | Description |
| --- | --- | --- |
| viewRef | <code>number</code> | scrollView的引用 |
| imagePath | <code>string</code> | 存储图片的位置，必须以Host.file.baseStoragePath开始，再加上文件存储名 |

**Example**  
```js
let findNodeHandle = require('findNodeHandle');
 let reactNativeVideo = findNodeHandle(this.refs.reactNativeVideo);
 Service.miotcamera.reactNativeVideoScreenShot(reactNativeVideo, Host.file.storageBasePath + '/test2.png').then(result=>{
     console.log(result);
 });

 
```

* * *

<a name="module_miot/service/miotcamera..IMiotCamera+convertH26xVideoIntoMp4"></a>

#### iMiotCamera.convertH26xVideoIntoMp4(paramsJson, videoPath, videoType, aacAudioPath, targetPath, fps, videoWidth, videoHeight)
**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10050  

| Param | Type | Description |
| --- | --- | --- |
| paramsJson |  | 包含如下参数： |
| videoPath | <code>string</code> | h264 或者h265的源文件绝对路径  必须以Host.file.storageBasePath开始 |
| videoType | <code>CameraRenderView.MISSCodec</code> | 视频源文件的路径 MISSCodec里定义的h264 或者h265 |
| aacAudioPath | <code>string</code> | aac 的源文件路径  没有就填写 ""   有值时必须以Host.file.storageBasePath开始, 音频文件只支持aac格式 |
| targetPath | <code>string</code> | 最终的输出文件目录 同上，必须以Host.file.storageBasePath开始 以下参数只用于ios |
| fps | <code>int</code> |  |
| videoWidth | <code>int</code> |  |
| videoHeight | <code>int</code> | Android json demo：       {"videoPath":vPath,       "videoType": vType,       "aacAudioPath": aacAPath,       "targetPath": tPath} IOS json demo：       {"videoPath":vPath,       "videoType": vType,       "aacAudioPath": aacAPath,       "targetPath": tPath,       "fps": fps,       "videoWidth": vWidth,       "videoHeight": vHeight} |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+launchRecommend"></a>

#### iMiotCamera.launchRecommend(srid, did, model)
启动设备设备联动页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10052  

| Param | Type | Description |
| --- | --- | --- |
| srid | <code>string</code> | from getRecommend |
| did | <code>string</code> |  |
| model | <code>string</code> |  |


* * *

<a name="module_miot/service/miotcamera..IMiotCamera+showOperationBannerPage"></a>

#### iMiotCamera.showOperationBannerPage(data, did)
打开推荐运营位页面

**Kind**: instance method of [<code>IMiotCamera</code>](#module_miot/service/miotcamera..IMiotCamera)  
**Since**: 10053  

| Param | Type | Description |
| --- | --- | --- |
| data |  | jsonobj=>str 推荐运营位链接，sd卡状态等信息 |
| did | <code>string</code> |  |

**Example**  
```js
let data = { h5Url: this.bannerItem.h5Url, sdcardGetSuccess: true, sdcardStatus: this.sdcardCode };
    Service.miotcamera.showOperationBannerPage(data);
```

* * *

<a name="module_miot/service/miotcamera..MISSCommand"></a>

### miot/service/miotcamera~MISSCommand : <code>object</code>
MISS 命令

**Kind**: inner namespace of [<code>miot/service/miotcamera</code>](#module_miot/service/miotcamera)  

* [~MISSCommand](#module_miot/service/miotcamera..MISSCommand) : <code>object</code>
    * [.MISS_CMD_VIDEO_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_VIDEO_STOP)
    * [.MISS_CMD_AUDIO_START](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_START)
    * [.MISS_CMD_AUDIO_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_STOP)
    * [.MISS_CMD_SPEAKER_START_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_REQ)
    * [.MISS_CMD_SPEAKER_START_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_RESP)
    * [.MISS_CMD_SPEAKER_STOP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_STOP)
    * [.MISS_CMD_STREAM_CTRL_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_REQ)
    * [.MISS_CMD_STREAM_CTRL_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_RESP)
    * [.MISS_CMD_GET_AUDIO_FORMAT_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_REQ)
    * [.MISS_CMD_GET_AUDIO_FORMAT_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_RESP)
    * [.MISS_CMD_PLAYBACK_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_REQ)
    * [.MISS_CMD_PLAYBACK_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_RESP)
    * [.MISS_CMD_PLAYBACK_SET_SPEED](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_SET_SPEED)
    * [.MISS_CMD_DEVINFO_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_REQ)
    * [.MISS_CMD_DEVINFO_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_RESP)
    * [.MISS_CMD_MOTOR_REQ](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_REQ)
    * [.MISS_CMD_MOTOR_RESP](#module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_RESP)


* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_VIDEO_STOP"></a>

#### MISSCommand.MISS\_CMD\_VIDEO\_STOP
< C->S, video start

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_START"></a>

#### MISSCommand.MISS\_CMD\_AUDIO\_START
< C->S, video stop

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_AUDIO_STOP"></a>

#### MISSCommand.MISS\_CMD\_AUDIO\_STOP
< C->S, audio start

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_REQ"></a>

#### MISSCommand.MISS\_CMD\_SPEAKER\_START\_REQ
< C->S, audio stop

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_START_RESP"></a>

#### MISSCommand.MISS\_CMD\_SPEAKER\_START\_RESP
< C->S, speaker start req

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_SPEAKER_STOP"></a>

#### MISSCommand.MISS\_CMD\_SPEAKER\_STOP
< C->S, speaker start resp

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_REQ"></a>

#### MISSCommand.MISS\_CMD\_STREAM\_CTRL\_REQ
< C->S, speaker stop

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_STREAM_CTRL_RESP"></a>

#### MISSCommand.MISS\_CMD\_STREAM\_CTRL\_RESP
< C->S, video quality req

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_REQ"></a>

#### MISSCommand.MISS\_CMD\_GET\_AUDIO\_FORMAT\_REQ
< S->C, video quality response

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_GET_AUDIO_FORMAT_RESP"></a>

#### MISSCommand.MISS\_CMD\_GET\_AUDIO\_FORMAT\_RESP
< C->S, get audio format

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_REQ"></a>

#### MISSCommand.MISS\_CMD\_PLAYBACK\_REQ
< S->C, audio format response

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_RESP"></a>

#### MISSCommand.MISS\_CMD\_PLAYBACK\_RESP
< C->S, playback request

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_PLAYBACK_SET_SPEED"></a>

#### MISSCommand.MISS\_CMD\_PLAYBACK\_SET\_SPEED
< S->C, playback response

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_REQ"></a>

#### MISSCommand.MISS\_CMD\_DEVINFO\_REQ
< C->S, playback speed

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_DEVINFO_RESP"></a>

#### MISSCommand.MISS\_CMD\_DEVINFO\_RESP
< C->S, device info request

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_REQ"></a>

#### MISSCommand.MISS\_CMD\_MOTOR\_REQ
< S->C, device info response

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSCommand.MISS_CMD_MOTOR_RESP"></a>

#### MISSCommand.MISS\_CMD\_MOTOR\_RESP
< C->S, device motor control

**Kind**: static property of [<code>MISSCommand</code>](#module_miot/service/miotcamera..MISSCommand)  

* * *

<a name="module_miot/service/miotcamera..MISSError"></a>

### miot/service/miotcamera~MISSError : <code>object</code>
MISS Error

**Kind**: inner namespace of [<code>miot/service/miotcamera</code>](#module_miot/service/miotcamera)  

* * *

<a name="module_miot/service/miotcamera..MISSConnectState"></a>

### miot/service/miotcamera~MISSConnectState : <code>object</code>
MISS Connection State

**Kind**: inner namespace of [<code>miot/service/miotcamera</code>](#module_miot/service/miotcamera)  

* * *

<a name="module_miot/service/miotcamera..AlarmEventType"></a>

### miot/service/miotcamera~AlarmEventType : <code>object</code>
Alarm Event Type

**Kind**: inner namespace of [<code>miot/service/miotcamera</code>](#module_miot/service/miotcamera)  

* * *

